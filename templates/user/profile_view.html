<!DOCTYPE html>
{% load static %}
{% load materializecss %}
{% load bootstrap4 %}
{% load notifications_tags %}
{% notifications_unread as unread_count %}

<html class="" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#" lang="en-US">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" initial-scale="1" maximum-scale="1" user-scalable="1" viewport-fit="cover" />
	<title>
		{% block title %} {{ view.kwargs.username }} | TechWif {% endblock %}
	</title>
	<meta name="description" content="{{ view.kwargs.username }}'s profile." />
	{% block meta_extend %}
	<meta property="og:image" content="{% static 'techwif\techwif-favicon.png' %}" />
	{% endblock %}
	<link rel="icon" href="{% static 'techwif\techwif-favicon.png' %}" sizes="16x16 32x32" type="image/png">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
		integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.1/css/materialize.min.css"	/>
	<link rel="stylesheet" href="{% static 'css\materialize.min.css' %}" />
	<link rel="stylesheet" href="{% static 'css\materialize-social.css' %}" />
	<link rel="stylesheet" href="{% static 'css\bootstrap.min.css' %}" />
	<link rel="stylesheet" href="{% static 'css\bootstrap.css' %}" />
	<link rel="stylesheet" href="{% static 'css\ecommerce.css' %}" />
	<link rel="stylesheet" href="{% static 'css\base.css' %}" />
	
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-179482776-1"></script>
	<script>
  		window.dataLayer = window.dataLayer || [];
  		function gtag(){dataLayer.push(arguments);}
  		gtag('js', new Date());

  		gtag('config', 'UA-179482776-1');
	</script>

<body>
	<nav class="light-blue darken-4">
		<div class="header-nav-bar" id="top-nav">
			<a href="{% url 'homepage' %}" class="left pr-4 pl-2"><img height="40" width="40" src="{% static 'techwif\favicon-white.png' %}" alt=""></a>
			<span id="nav-mobile" class="right pr-4 pl-2" style="color: rgb(216, 207, 207);">@{{ view.kwargs.username }}'s profile</span>
		</div>
	</nav>

	<nav class="light-blue darken-3">
		<div class="header-nav-bar">
			<ul class="bottom-nav-list">
				<li><a href="{% url 'service_list' %}">Services</a></li>
				<li><a href="{% url 'latest_updates' %}">Latest</a></li>
				<li><a href="{% url 'store' %}">Store</a></li>
				<li><a href="{% url 'forum_list' %}">Forum</a></li>
			</ul>
		</div>
	</nav>
	{% include 'techsite/alerts.html' %}
	{% block content %}
	<div class="container">
        <div class="row">
            <div class="col-md-6 p-0">
                <div class="mt-4">
                    <div class="d-flex justify-content-center h-100">
                        <div class="box-element mt-2 mb-2">
                            <div class="row">
                                <div class="col-6">
                                    <img class="rounded-circle account-img mt-2" src="{{ user.profile.imageURL }}" width="150" height="150" alt="">
                                </div>
                                <div class="col-6">
                                    <div class="ml-3">
                                        {% if request.user == user %}
                                        <div class="center mt-2">
                                            <a class="btn btn-outline-secondary tf btn-block" href="{% url 'profile_update' %}">Edit Profile</a>
                                        </div>
                                        <div class="center mt-2">
                                            <a class="btn btn-outline-dark mt-2 tf btn-block" href="{% url 'favourite_posts_view' %}">Favourites</a>
                                        </div>
                                        <hr>
                                        {% else %}
                                        <div class="center mt-2">
                                            <h6 class="block" style="color: rgb(90, 90, 131);"><strong>{{ user.username }}</strong></h6>
                                            <hr>
                                        </div>
                                        {% endif %}
                                    </div>  
                                </div>
                            </div>
                            
                            <div class="media-body mt-4">
                                <hr>
                                {% if request.user == user %}
                                <h6 class="account-heading">Username: {{ user.username }}</h6>
                                {% endif %}
                                <p class="text-secondary"><h6>Name: {{ user.profile.first_name }} {{ user.profile.last_name }}</h6></p>
                                <hr>
                                <p class="text-secondary"><h6>Bio:</h6></p>
                                <p class="text-secondary">{{ user.profile.bio|linebreaks|urlizetrunc:40 }}</p>
                                <hr>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 p-0 m-2">
                <div class="mb-2 mt-4">
                    <div class="infinite-container">
                        {% for forum in object_list %}
                        <div class="media content-section article-text m-2 infinite-item">
                            <div>
                                <img class="rounded-circle  article-img" src="{{ forum.author.profile.profile_pic.url }}" width="70" height="70" alt="">
                            </div>
                            <div class="media-body article-text">
                                <div class="article-metadata">
                                    <a class="mr-2" href="{% url 'profile_view' forum.author.username %}">{{ forum.author }}</a>
                                    <small class="text-muted">{{ forum.created_date }}</small>
                                    |
                                    <a href="{{ forum.section.get_absolute_url }}"><small>{{ forum.section }}</small></a>
                                </div>
                                <div>
                                    <strong><a class="" href="{{ forum.get_absolute_url }}" class="btn btn-outline-secondary btn-sm btn-block" role="button">{{ forum.title }}</a></strong>
                                </div>               
                            </div>       
                        </div>
                        {% endfor %}
                    </div>
                    
                    <div class="container" style="text-align: center;">
                        {% if page_obj.has_next %}
                            <a class="infinite-more-link" href="?page={{ page_obj.next_page_number }}"></a>
                        {% endif %} 
                        
                        <div class="loading" style="display: none;">
                            Loading...
                        </div>
                    </div>
                </div> 
            </div>
        </div>           
    </div>
	
	{% endblock content %}
	
	<script src="https://kit.fontawesome.com/79bfb5ad6a.js" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"
		integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.1/js/materialize.min.js"
		integrity="" crossorigin="anonymous">
	</script>
	<script src="{% static 'js\jquery.min.js' %}"></script>
	<script src="{% static 'js\jquery.waypoints.min.js' %}"></script>
	<script src="{% static 'js\infinite.min.js' %}"></script>
	<script src="{% static 'js\materialize.min.js' %}"></script>
	<script src="{% static 'js\bootstrap.bundle.min.js' %}"></script>
	<script src="{% static 'js\bootstrap.bundle.js' %}"></script>
	<script src="{% static 'js\bootstrap.min.js' %}"></script>
	<script src="{% static 'js\base.js' %}"></script>

	{% block javascript %}{% endblock %}
	<br>	
</body>
<footer class="">
	<div class="footer mt-2">
		<div class="footer-PAC mt-4">
			<ul class="footer-PAC-list">
				<li><a href="{% url 'privacy_policy' %}">Privary Policy</a></li>
				<li><p>|</p></li>
				<li><a href="{% url 'terms_and_conditions' %}">Terms & Conditions</a></li>
				<li><p>|</p></li>
				<li><a href="{% url 'advertise' %}">Advertise</a></li>
				<li><p>|</p></li>
				<li><a href="{% url 'contact_us' %}">Contact Us</a></li>
			</ul>
		</div>
		
		<div class="container" style="color: rgb(243, 239, 239);">	
			<div class="center mb-4 mt-2">
				<ul class="social-media">
					<h5 class="">Follow Us:</h5>
					<li><a target="_blank" href="https://www.facebook.com/techwif"><i class="fab fa-facebook-f fa-lg"></i></a></li>
					<li><a target="_blank" href="https://www.twitter.com/techwif"><i class="fab fa-twitter fa-lg"></i></a></li>
					<li><a target="_blank" href="https://www.instagram.com/techwifofficial"><i class="fab fa-instagram fa-lg"></i></a></li>
					<li><a target="_blank" href="https://www.youtube.com/channel/UCDvsly4ahXy21U_h_FVNTcQ"><i class="fab fa-youtube fa-lg"></i></a></li>
				</ul>		
			</div>
		</div>

		<div class="back-to-top">
			<button type="button" class="btn btn-outline-dark btn-sm btn-block mb-" 
				onclick="topFunction()" id="myBtn"
				title="Go to top">
				Back to Top
			</button>
		</div>
	</div>
</footer>
</html>

{% block javascript-infinite-load %}
<script>
    var infinite = new Waypoint.Infinite({
        element: $('.infinite-container')[0],
        handler: function(direction) {   
        },
        offset: 'bottom-in-view',

        onBeforePageLoad: function() {
            $('.loading').show();
        },
        onAfterPageLoad: function() {
            $('.loading').hide();
        }
    });


    $(document).ready(function(e){
        $(function(){
            setTimeout(function(){
                $('.alert').slideUp(2000);
            }, 10000);
        });
    });

</script>
{% endblock %}